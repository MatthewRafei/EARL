\doxysection{intrinsics.\+cpp}
\hypertarget{intrinsics_8cpp_source}{}\label{intrinsics_8cpp_source}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <cassert>}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{intrinsics_8hpp}{intrinsics.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}interpreter.hpp"{}}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{err_8hpp}{err.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ctx_8hpp}{ctx.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ast_8hpp}{ast.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00012}\mbox{\hyperlink{namespaceIntrinsics_adcb041005606322c10101ed371c26850}{00012}}\ \textcolor{keyword}{const}\ std::unordered\_map<std::string,\ Intrinsics::IntrinsicFunction>\ \mbox{\hyperlink{namespaceIntrinsics_adcb041005606322c10101ed371c26850}{Intrinsics::intrinsic\_functions}}\ =\ \{}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00013}00013\ \ \ \ \ \{\textcolor{stringliteral}{"{}print"{}},\ \&\mbox{\hyperlink{namespaceIntrinsics_afcd8a88bac3fb3752677afbef1479ed7}{Intrinsics::print}}\},}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00014}00014\ \};}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00016}\mbox{\hyperlink{namespaceIntrinsics_a299dd08dedb938c283ac2532eb8a03d4}{00016}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceIntrinsics_a299dd08dedb938c283ac2532eb8a03d4}{Intrinsics::is\_intrinsic\_function}}(\textcolor{keyword}{const}\ std::string\ \&\textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00017}00017\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceIntrinsics_adcb041005606322c10101ed371c26850}{intrinsic\_functions}}.find(\textcolor{keywordtype}{id})\ !=\ \mbox{\hyperlink{namespaceIntrinsics_adcb041005606322c10101ed371c26850}{intrinsic\_functions}}.end();}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00018}00018\ \}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00020}\mbox{\hyperlink{namespaceIntrinsics_a44e7a1a5c467b271df601d068f76e193}{00020}}\ \mbox{\hyperlink{structInterpreter_1_1ExprEvalResult}{Interpreter::ExprEvalResult}}\ \mbox{\hyperlink{namespaceIntrinsics_a44e7a1a5c467b271df601d068f76e193}{Intrinsics::run\_intrinsic\_function}}(\mbox{\hyperlink{structExprFuncCall}{ExprFuncCall}}\ *expr,\ std::vector<Interpreter::ExprEvalResult>\ params,\ \mbox{\hyperlink{classCtx}{Ctx}}\ \&ctx)\ \{}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00021}00021\ \ \ \ \ \textcolor{keyword}{auto}\ retval\ =\ \mbox{\hyperlink{namespaceIntrinsics_adcb041005606322c10101ed371c26850}{Intrinsics::intrinsic\_functions}}.at(expr-\/>\mbox{\hyperlink{structExprFuncCall_acce7a83d3408873da81ddeee268059ca}{m\_id}}-\/>lexeme())(expr,\ params,\ ctx);}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00023}00023\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structInterpreter_1_1ExprEvalResult}{Interpreter::ExprEvalResult}}\{\};}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00024}00024\ \}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00026}\mbox{\hyperlink{namespaceIntrinsics_afcd8a88bac3fb3752677afbef1479ed7}{00026}}\ \mbox{\hyperlink{structInterpreter_1_1ExprEvalResult}{Interpreter::ExprEvalResult}}\ \mbox{\hyperlink{namespaceIntrinsics_afcd8a88bac3fb3752677afbef1479ed7}{Intrinsics::print}}(\mbox{\hyperlink{structExprFuncCall}{ExprFuncCall}}\ *expr,\ std::vector<Interpreter::ExprEvalResult>\ params,\ \mbox{\hyperlink{classCtx}{Ctx}}\ \&ctx)\ \{}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00027}00027\ \ \ \ \ (void)ctx;}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00028}00028\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ expr-\/>\mbox{\hyperlink{structExprFuncCall_a281b5ed8e281c8628e779861875555ea}{m\_params}}.size();\ ++i)\ \{}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00029}00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structInterpreter_1_1ExprEvalResult}{Interpreter::ExprEvalResult}}\ param\ =\ params[i];}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00031}00031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (param.\mbox{\hyperlink{structInterpreter_1_1ExprEvalResult_ad888d939f3f520c678255a1eb4537595}{m\_earl\_type}}\ ==\ EarlTy::Type::Int)\ \{}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ std::any\_cast<int>(param.\mbox{\hyperlink{structInterpreter_1_1ExprEvalResult_afc9d65fa40d1490649d53f18153fa6f4}{value}}());}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00033}00033\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00035}00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (param.\mbox{\hyperlink{structInterpreter_1_1ExprEvalResult_ad888d939f3f520c678255a1eb4537595}{m\_earl\_type}}\ ==\ EarlTy::Type::Str)\ \{}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ std::any\_cast<std::string>(param.\mbox{\hyperlink{structInterpreter_1_1ExprEvalResult_afc9d65fa40d1490649d53f18153fa6f4}{value}}());}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00037}00037\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00038}00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{err_8hpp_a25c153b472aedde9d62e2f1ae3ce8f23}{ERR\_WARGS}}(\mbox{\hyperlink{err_8hpp_a8a44eabce4dccc3d22171ed3699b769aa882384ec38ce8d9582b57e70861730e4}{ErrType::Fatal}},\ \textcolor{stringliteral}{"{}no\ printing\ for\ earltype\ \%d"{}},\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(param.\mbox{\hyperlink{structInterpreter_1_1ExprEvalResult_ad888d939f3f520c678255a1eb4537595}{m\_earl\_type}}));}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00040}00040\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00041}00041\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00042}00042\ \ \ \ \ std::cout\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00043}00043\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structInterpreter_1_1ExprEvalResult}{Interpreter::ExprEvalResult}}\{\};}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00044}00044\ \}}
\DoxyCodeLine{\Hypertarget{intrinsics_8cpp_source_l00045}00045\ }

\end{DoxyCode}
